# Gemfile ― backend/

source 'https://rubygems.org'
ruby  '3.3.0'             # Dockerfile と揃える

################################################################
# コア
################################################################
gem 'rails',        '~> 7.2.1'          # フレームワーク本体
gem 'puma',         '~> 6.4'            # Web サーバ
gem 'bootsnap',     '~> 1.17', require: false

################################################################
# DB ドライバ（どちらか片方だけ残す）
################################################################
gem 'pg',           '>= 1.5',  '< 3.0'  # ★ PostgreSQL 用
# gem 'mysql2',     '>= 0.5.5'          # ★ MySQL 8 用に切替可

################################################################
# API／セキュリティ
################################################################
gem 'bcrypt',       '~> 3.1'            # has_secure_password 用
gem 'rack-cors',    '~> 2.0'            # CORS ミドルウェア
gem 'jwt',          '~> 2.7'            # トークン認証（任意）

################################################################
# JSON シリアライズ
################################################################
gem 'jbuilder',     '~> 2.11'           # 追加不要なら削除可
# gem 'active_model_serializers', '~> 0.10'

################################################################
# ページネーション
################################################################
gem 'kaminari',     '~> 1.2'

################################################################
# スクレイピング
################################################################
gem 'nokogiri',     '~> 1.16'           # HTMLパーサー
gem 'httparty',     '~> 0.21'           # HTTPクライアント

################################################################
# 運用・開発補助
################################################################
gem 'foreman',              require: false # bin/dev のプロセス管理
gem 'dotenv-rails',         groups: [:development, :test] # 環境変数

################################################################
# 開発 + テスト共通
################################################################
group :development, :test do
  gem 'rspec-rails',   '~> 8.0'       # 最新 8.0.1 (2025-06-19) :contentReference[oaicite:1]{index=1}
  gem 'factory_bot_rails', '~> 6.4'
  gem 'faker',         '~> 3.3'
  gem 'database_cleaner-active_record', '~> 2.1'
end

################################################################
# 開発のみ
################################################################
group :development do
  gem 'listen',        '~> 3.7'       # ファイル監視（Mac に最適）
  gem 'spring',        '~> 4.2', require: false
  gem 'spring-watcher-listen', '~> 2.1', require: false
  gem 'rubocop',               require: false
  gem 'rubocop-rails',         require: false
end

################################################################
# テストのみ
################################################################
group :test do
  gem 'capybara',      '~> 3.39'
  gem 'selenium-webdriver', '~> 4.10'
  gem 'webdrivers',    '~> 5.3'
end
