# TiraLuce – README

---

## ■サービス概要 (3行)

1. **ティラミス専門のレシピ＆店舗検索アプリ** – Web／モバイル対応 PWA。
2. **YouTube と主要レシピサイトから収集したティラミスレシピ** をカテゴリ・難易度別に一覧表示。
3. **Google Maps API 連携**で、現在地やエリアからティラミスを提供するお店を地図上で簡単に発見。

---

## ■このサービスへの思い・作りたい理由

ティラミスを愛してやまない開発者 (←私ひとり) が「もっと気軽にレシピを探し、旅先でもおいしいティラミスを食べたい！」という欲望を形にしたアプリです。レシピは YouTube、ブログ、クックパッド等に散在し、店舗情報はグルメサイトで個別検索──これらを行き来する煩わしさを解決する "ティラミス特化の情報ハブ" を目指しています。

---

## ■ユーザー層について

| ユーザー層              | 課題 / ニーズ                     | 選定理由                         |
| ------------------ | ---------------------------- | ---------------------------- |
| お菓子作りが趣味のホームベイカー   | 新しいティラミスのレシピを効率良く探したい        | レシピ横断検索と難易度タグで時短になるため        |
| カフェ巡りが好きなスイーツファン   | 旅行・外出先でおいしいティラミスを提供する店を見つけたい | Google Maps 連携で現在地から即検索できるため |
| フードブロガー / インスタグラマー | コンテンツのネタ探し・情報収集を一箇所で行いたい     | 店舗情報と動画レシピを同時に把握できるため        |

---

## ■サービスの利用イメージ

1. **レシピ探索** – トップページで材料やキーワードを入力すると、YouTube とウェブ記事から収集したティラミスレシピがサムネ付きで一覧表示。
2. **詳細閲覧** – レシピ詳細ページでは動画埋め込み・材料表・手順・所要時間を確認でき、ブックマークも可能。
3. **店舗検索** – 地図タブで現在地付近や指定エリアのティラミス提供店をピン表示。営業時間・レビュー・ルート案内へワンタップ遷移。
4. **お気に入り** – 気に入ったレシピや店舗をマイリストに保存し、後からオフラインでもチェック。

---

## ■ユーザーの獲得について (現状案)

* **Instagram / X** でティラミス写真とレシピ短尺動画を投稿し、ハッシュタグ #tiramisuapp で流入を図る。
* **YouTube Shorts** に "◯分でわかる絶品ティラミス" などのクリップを上げ、動画概要欄からアプリへ誘導。
* **Google 検索流入** を狙い、「ティラミス レシピまとめ」記事をオウンドメディアで公開。
* **カフェコラボ** – ティラミスを提供する個人店にフライヤを置かせてもらい、店舗ページを無料で掲載。

---

## ■サービスの差別化ポイント・推しポイント

1. **ティラミス特化** – 汎用レシピアプリやグルメサイトと異なり、"ティラミスだけ" を徹底的に掘り下げている。
2. **レシピ×店舗のシームレス連携** – 作る楽しみと食べに行く楽しみの両方を、一つの UI で完結できる点はユニーク。
3. **動画レシピの優先表示** – 文字だけでなく映像で手順が確認できるレシピを後押しし、初心者も取り組みやすい。

---

## ■機能候補 (MVP と本リリース)

| フェーズ      | 機能               | 概要                                          |
| --------- | ---------------- | ------------------------------------------- |
| **MVP**   | レシピクローラー         | YouTube Data API & レシピサイトの RSS/スクレイピングで日次取得 |
|           | レシピ検索 & 詳細表示     | キーワード検索・難易度/所要時間フィルタ                        |
|           | Google Maps 店舗検索 | 位置検索・店舗詳細 (住所/営業時間/サイトリンク)                  |
|           | お気に入り保存 (ローカル)   | ログイン不要でローカルストレージ保存                          |
| **本リリース** | ユーザー認証 (メール/SNS) | サーバー側ブックマーク同期、マルチデバイス対応                     |
|           | 店舗レビュー投稿         | テキスト + 写真アップロード                             |
|           | レシピ投稿 (ユーザー生成)   | 独自レシピを投稿・公開できる CMS 機能                       |
|           | 通知 & ウィジェット      | 新着レシピ・近くの新規店舗をプッシュ通知                        |

---

## ■機能の実装方針予定 (AI 非使用)

| 機能             | 技術スタック / ライブラリ                                              | メモ                                   |
| -------------- | ----------------------------------------------------------- | ------------------------------------ |
| **モノレポ管理**     | pnpm workspaces / Turborepo                                 | `apps/backend` & `apps/frontend` で分離 |
| **Rails API**  | Ruby 3.3 + Rails 7 (API モード) / PostgreSQL                   | JSON:API、Active Storage で画像保持       |
| **レシピクローラー**   | Sidekiq (スケジューラ) / Nokogiri (スクレイピング) / YouTube Data API v3 | cron: 24h 毎にバックグラウンド取得               |
| **フロントエンド**    | Vite + React 18 + TypeScript / TanStack Query               | PWA 対応、Tailwind CSS で UI             |
| **地図機能**       | Google Maps JavaScript API / Places API                     | 店舗ピン表示、距離ソート                         |
| **認証 (本リリース)** | Devise Token Auth / Cookie Session                          | JWT + refresh flow                   |
| **デプロイ**       | Render.com (`backend`) / Netlify (`frontend`)               | CI/CD: GitHub Actions                |

---

## ■開発環境・セットアップ

### 前提条件
- Docker & Docker Compose
- Node.js 20.x
- Ruby 3.3.x

### セットアップ手順

1. **リポジトリをクローン**
   ```bash
   git clone https://github.com/Otoriha/Tiramisu-app.git
   cd Tiramisu-app
   ```

2. **Docker環境で起動**
   ```bash
   docker-compose up -d
   ```

3. **アクセス**
   - フロントエンド: http://localhost:5173
   - バックエンド API: http://localhost:3000
   - PostgreSQL: localhost:5432

### 開発コマンド

```bash
# テスト実行 (フロントエンド)
docker-compose run --rm frontend npm run test

# テスト実行 (バックエンド)
docker-compose run --rm backend bundle exec rspec

# ビルド
docker-compose run --rm frontend npm run build
```

---

## ■ディレクトリ構成

```text
Tiramisu-app/
├── frontend/                # React + Vite フロントエンド
│   ├── src/
│   │   ├── components/      # UI コンポーネント
│   │   ├── hooks/          # カスタムフック
│   │   ├── services/       # API 通信
│   │   └── utils/          # 共通ユーティリティ
│   ├── public/
│   └── package.json
├── backend/                 # Rails API バックエンド
│   ├── app/
│   │   ├── controllers/
│   │   ├── models/
│   │   └── services/
│   ├── config/
│   └── Gemfile
├── docker-compose.yml       # Docker 環境定義
└── README.md
```

---

## ■最近の更新

### v0.1.0 - 検索機能の最適化
- SearchInputコンポーネントにdebounce機能を追加
- YouTube API呼び出しの最適化（300ms遅延）
- 包括的なユニットテストを追加

---

## ■コントリビュート

1. Fork このリポジトリ
2. 新しいブランチを作成 (`git checkout -b feature/amazing-feature`)
3. 変更をコミット (`git commit -m 'Add some amazing feature'`)
4. ブランチをプッシュ (`git push origin feature/amazing-feature`)
5. プルリクエストを作成

---

## ■ライセンス

MIT License © 2025 Solo Developer

---

**Made with ❤️ for Tiramisu lovers**